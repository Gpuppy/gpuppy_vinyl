{% extends 'base.html.twig' %}

{% block title %}Hello MapController!{% endblock %}

{% block body %}

<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }

    Map {
        width:100%;
        height: 400px ;
    }
</style>
<h3>Google Map</h3>
    <div id="map"></div>


    {% block javascripts %}
        {{ encore_entry_link_tags('app') }}
        <!--link rel="stylesheet" href="build/app.css"-->
        {{ encore_entry_script_tags('app') }}

        <script>
            let map;
            async function initMap() {
                //@ts-ignore
                const { Map } = await google.maps.importLibrary("maps");

                map = new Map(document.getElementById("map"), {
                    center: { lat: -34.397, lng: 150.644 },
                    zoom: 8,
                });
            }

            const loader = new Loader({
                apiKey: "YOUR_API_KEY",
                version: "weekly",
                ...additionalOptions,
            });

            loader.load().then(async () => {
                const { Map } = await google.maps.importLibrary("maps");

                map = new Map(document.getElementById("map"), {
                    center: { lat: -34.397, lng: 150.644 },
                    zoom: 8,
                });
            });



        </script>
    {% endblock %}
    <script>
        function initMap() {
            let coray = {lat: 48.068849,lng: -3.831827};
            let map = new google.maps.Map(
                document.getElementById('map'), {zoom: 4, center:coray}
            );
            let marker = new google.maps.Marker({position: coray, map: map})
        }


        initMap();
    </script>
    <script async defer
            src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&callback=initMap">
    </script>
    <iframe src="https://www.google.com/maps/embed?pb=!1m17!1m12!1m3!1d2666.1445579625956!2d-3.8344019233195668!3d48.06885255594275!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m2!1m1!2zNDjCsDA0JzA3LjkiTiAzwrA0OSc1NC42Ilc!5e0!3m2!1sen!2sfr!4v1696282544308!5m2!1sen!2sfr" width="800" height="600" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
    </script>



</div>
{% endblock %}
